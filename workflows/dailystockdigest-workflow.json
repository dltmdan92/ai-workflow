{
  "name": "DailyStockDigest - Daily Market Briefing",
  "nodes": [
    {
      "parameters": {
        "rule": {
          "interval": [
            {
              "triggerAtHour": 7,
              "triggerAtMinute": 40
            }
          ]
        }
      },
      "type": "n8n-nodes-base.scheduleTrigger",
      "typeVersion": 1.3,
      "position": [
        3856,
        368
      ],
      "id": "ed6d1238-3ae3-4b5a-b07c-fbdaf5d137dc",
      "name": "Daily 7:40AM"
    },
    {
      "parameters": {
        "url": "https://www.marketwatch.com/rss/topstories",
        "options": {}
      },
      "type": "n8n-nodes-base.rssFeedRead",
      "typeVersion": 1.1,
      "position": [
        4096,
        64
      ],
      "id": "77ecda6c-1c47-48b7-9087-8d64c8e61e7c",
      "name": "RSS MarketWatch"
    },
    {
      "parameters": {
        "url": "https://feeds.a.dj.com/rss/RSSMarketsMain.xml",
        "options": {}
      },
      "type": "n8n-nodes-base.rssFeedRead",
      "typeVersion": 1.1,
      "position": [
        4096,
        224
      ],
      "id": "7de1267e-91d5-4436-acbc-868eb63cff3e",
      "name": "RSS WSJ"
    },
    {
      "parameters": {
        "url": "https://www.investing.com/rss/news.rss",
        "options": {}
      },
      "type": "n8n-nodes-base.rssFeedRead",
      "typeVersion": 1.1,
      "position": [
        4096,
        368
      ],
      "id": "96e8a9cf-fabe-4fd9-933c-9f3a4a6b39c7",
      "name": "RSS Investing.com"
    },
    {
      "parameters": {
        "url": "https://www.cnbc.com/id/20910258/device/rss/rss.html",
        "options": {}
      },
      "type": "n8n-nodes-base.rssFeedRead",
      "typeVersion": 1.1,
      "position": [
        4096,
        528
      ],
      "id": "d1d96466-d857-4241-b66c-c574f9bb809b",
      "name": "RSS CNBC"
    },
    {
      "parameters": {
        "url": "https://finance.yahoo.com/news/rssindex",
        "options": {}
      },
      "type": "n8n-nodes-base.rssFeedRead",
      "typeVersion": 1.1,
      "position": [
        4096,
        672
      ],
      "id": "a25fab3a-2631-4edd-a4b6-6dc2d6027742",
      "name": "RSS Yahoo Finance"
    },
    {
      "parameters": {
        "url": "https://www.nasdaq.com/feed/rssoutbound",
        "options": {}
      },
      "type": "n8n-nodes-base.rssFeedRead",
      "typeVersion": 1.1,
      "position": [
        4096,
        816
      ],
      "id": "891d5253-5d13-4635-bd24-71fcf32ea2d2",
      "name": "RSS Nasdaq"
    },
    {
      "parameters": {
        "numberInputs": 6
      },
      "type": "n8n-nodes-base.merge",
      "typeVersion": 3,
      "position": [
        4352,
        448
      ],
      "id": "579acd11-09c6-4d1e-a24d-78638bc61b41",
      "name": "Merge All"
    },
    {
      "parameters": {
        "jsCode": "const items = $input.all();\n\n// Group items by source based on link domain\nconst marketwatch = [];\nconst wsj = [];\nconst investing = [];\nconst cnbc = [];\nconst yahoo = [];\nconst nasdaq = [];\n\nfor (const item of items) {\n  const data = item.json;\n  const link = data.link || '';\n  \n  const post = {\n    title: data.title || '',\n    summary: (data.contentSnippet || data.content || '').replace(/<[^>]*>/g, '').slice(0, 300),\n    link: link,\n    pubDate: data.pubDate || data.isoDate || ''\n  };\n  \n  if (link.includes('marketwatch.com')) {\n    post.source = 'MarketWatch';\n    marketwatch.push(post);\n  } else if (link.includes('wsj.com') || link.includes('dowjones')) {\n    post.source = 'WSJ';\n    wsj.push(post);\n  } else if (link.includes('investing.com')) {\n    post.source = 'Investing.com';\n    investing.push(post);\n  } else if (link.includes('cnbc.com')) {\n    post.source = 'CNBC';\n    cnbc.push(post);\n  } else if (link.includes('yahoo.com') || link.includes('finance.yahoo')) {\n    post.source = 'Yahoo Finance';\n    yahoo.push(post);\n  } else if (link.includes('nasdaq.com')) {\n    post.source = 'Nasdaq';\n    nasdaq.push(post);\n  }\n}\n\nconst totalCount = marketwatch.length + wsj.length + investing.length + cnbc.length + yahoo.length + nasdaq.length;\n\nreturn [{\n  json: {\n    marketwatch: JSON.stringify(marketwatch.slice(0, 10), null, 2),\n    marketwatchCount: Math.min(marketwatch.length, 10),\n    wsj: JSON.stringify(wsj.slice(0, 10), null, 2),\n    wsjCount: Math.min(wsj.length, 10),\n    investing: JSON.stringify(investing.slice(0, 10), null, 2),\n    investingCount: Math.min(investing.length, 10),\n    cnbc: JSON.stringify(cnbc.slice(0, 10), null, 2),\n    cnbcCount: Math.min(cnbc.length, 10),\n    yahoo: JSON.stringify(yahoo.slice(0, 10), null, 2),\n    yahooCount: Math.min(yahoo.length, 10),\n    nasdaq: JSON.stringify(nasdaq.slice(0, 10), null, 2),\n    nasdaqCount: Math.min(nasdaq.length, 10),\n    totalCount: totalCount,\n    error: totalCount === 0,\n    errorMsg: totalCount === 0 ? 'No articles fetched' : ''\n  }\n}];"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        4560,
        448
      ],
      "id": "0cf0d78d-099b-452a-8c89-a1f8d3aa7362",
      "name": "Combine Data"
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 2
          },
          "conditions": [
            {
              "id": "condition-count",
              "leftValue": "={{ $json.totalCount }}",
              "rightValue": 0,
              "operator": {
                "type": "number",
                "operation": "gt"
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.2,
      "position": [
        4752,
        448
      ],
      "id": "5a4b2bdf-081f-49c8-a033-c4fe41b02013",
      "name": "Valid Data?"
    },
    {
      "parameters": {
        "modelId": {
          "__rl": true,
          "value": "claude-sonnet-4-20250514",
          "mode": "list",
          "cachedResultName": "claude-sonnet-4-20250514"
        },
        "messages": {
          "values": [
            {
              "content": "=ë‹¹ì‹ ì€ ê°œì¸ íˆ¬ììë¥¼ ìœ„í•œ ê¸€ë¡œë²Œ ì‹œì¥ ë‰´ìŠ¤ íë ˆì´í„° \"DailyStockDigest\"ì˜ ìˆ˜ì„ ì—ë””í„°ì…ë‹ˆë‹¤.\n\në°”ìœ ì§ì¥ì¸ íˆ¬ììë“¤ì´ ì¶œê·¼ ì „ ì½ì„ ìˆ˜ ìˆëŠ” **í’ì„±í•˜ê³  ì‹¤ì „ì ì¸** Daily Market Briefingì„ ë§Œë“¤ì–´ì£¼ì„¸ìš”.\n\n## ğŸ“Š ë¸Œë¦¬í•‘ êµ¬ì„± (í•„ìˆ˜ ì„¹ì…˜)\n\n### 1ï¸âƒ£ ì˜¤ëŠ˜ì˜ ì‹œì¥ í•œëˆˆì— ë³´ê¸°\n- ë¯¸êµ­ 3ëŒ€ ì§€ìˆ˜ (ë‹¤ìš°/S&P500/ë‚˜ìŠ¤ë‹¥) ë™í–¥ ë° ë³€ë™ë¥ \n- ì•„ì‹œì•„/ìœ ëŸ½ ì£¼ìš” ì§€ìˆ˜ ìš”ì•½\n- ì›/ë‹¬ëŸ¬ í™˜ìœ¨ ë° êµ­ì œìœ ê°€ ë™í–¥\n- ë¹„íŠ¸ì½”ì¸/ì´ë”ë¦¬ì›€ ê°€ê²© ë™í–¥\n\n### 2ï¸âƒ£ TOP ë‰´ìŠ¤ ì‹¬ì¸µ ë¶„ì„ (5-7ê°œ)\nì„ ì • ê¸°ì¤€: ì‹œì¥ ì˜í–¥ë ¥ > íˆ¬ì ì‹œì‚¬ì  > ì„¹í„° ì—°ê´€ì„± > ê¸´ê¸‰ì„±\n\nê° ë‰´ìŠ¤ë³„ í¬ë§·:\n- ğŸ“°/ğŸ’¹/ğŸ“‰/ğŸ›ï¸/ğŸŒ [ì†ŒìŠ¤] í—¤ë“œë¼ì¸\n- **í•µì‹¬ ìš”ì•½**: 3-4ë¬¸ì¥ìœ¼ë¡œ ë‰´ìŠ¤ì˜ ë³¸ì§ˆ ì„¤ëª…\n- **ì‹œì¥ ì˜í–¥**: ì´ ë‰´ìŠ¤ê°€ ì‹œì¥ì— ë¯¸ì¹  ì˜í–¥ ë¶„ì„\n- **íˆ¬ì ì‹œì‚¬ì **: ê°œì¸ íˆ¬ììê°€ ì–´ë–»ê²Œ ëŒ€ì‘í•´ì•¼ í•˜ëŠ”ì§€\n- **ê´€ë ¨ í‹°ì»¤**: $AAPL, $TSLA í˜•íƒœë¡œ í‘œì‹œ\n\n### 3ï¸âƒ£ ğŸ”¥ ê³µê²©ì  ì¢…ëª© ì¶”ì²œ (3-5ê°œ)\n**íˆ¬ì ì„±í–¥: ê³ ìœ„í—˜ ê³ ìˆ˜ìµ ì¶”êµ¬**\n\nê° ì¢…ëª©ë³„:\n- **í‹°ì»¤ & ì¢…ëª©ëª…**: $XXX (íšŒì‚¬ëª…)\n- **í˜„ì¬ê°€ & ëª©í‘œê°€**: êµ¬ì²´ì  ìˆ˜ì¹˜ ì œì‹œ (ìƒìŠ¹ì—¬ë ¥ %)\n- **ì¶”ì²œ ê·¼ê±°**: ì™œ ì§€ê¸ˆ ì´ ì¢…ëª©ì¸ì§€ 3ê°€ì§€ ì´ìœ \n- **ë¦¬ìŠ¤í¬ ìš”ì¸**: ì£¼ì˜í•´ì•¼ í•  ì  1-2ê°€ì§€\n- **ë§¤ìˆ˜ ì „ëµ**: ë¶„í• ë§¤ìˆ˜ êµ¬ê°„ ë˜ëŠ” ì§„ì… íƒ€ì´ë° ì œì•ˆ\n\nâš ï¸ ì¶”ì²œ ê¸°ì¤€:\n- ë‹¨ê¸° ê¸‰ë“± ê°€ëŠ¥ì„±ì´ ìˆëŠ” ëª¨ë©˜í…€ ì¢…ëª© ìš°ì„ \n- ì‹¤ì  ì„œí”„ë¼ì´ì¦ˆ, M&A, ì‹ ì‚¬ì—… ì§„ì¶œ ë“± ì´‰ë§¤ê°€ ìˆëŠ” ì¢…ëª©\n- 52ì£¼ ì‹ ê³ ê°€ ëŒíŒŒ ë˜ëŠ” ëŒíŒŒ ì„ë°• ì¢…ëª©\n- ê¸°ê´€/ì™¸êµ­ì¸ ìˆœë§¤ìˆ˜ ê¸‰ì¦ ì¢…ëª©\n\n### 4ï¸âƒ£ ì„¹í„°ë³„ ë™í–¥ & í…Œë§ˆì£¼\n- ì˜¤ëŠ˜ ì£¼ëª©í•  ì„¹í„° 3ê°œì™€ ëŒ€í‘œ ì¢…ëª©\n- ìƒìŠ¹/í•˜ë½ í…Œë§ˆ ë¶„ì„\n- ê° ì„¹í„°ë³„ íˆ¬ì ë§¤ë ¥ë„ (â­ 1-5ê°œ)\n\n### 5ï¸âƒ£ ì˜¤ëŠ˜ì˜ ì¼ì • & ì´ë²¤íŠ¸\n- ì£¼ìš” ê²½ì œì§€í‘œ ë°œí‘œ ì¼ì •\n- ì‹¤ì  ë°œí‘œ ì˜ˆì • ê¸°ì—…\n- ì—°ì¤€/ì¤‘ì•™ì€í–‰ ì¼ì •\n- IPO/ê³µëª¨ì£¼ ì²­ì•½ ì¼ì •\n\n### 6ï¸âƒ£ ì—ë””í„° ì½”ë©˜íŠ¸\n- ì˜¤ëŠ˜ ì‹œì¥ì˜ í•µì‹¬ í‚¤ì›Œë“œ 3ê°œ\n- ë‹¨ê¸° ì‹œì¥ ì „ë§ (ë¶ˆë¦¬ì‹œ/ë² ì–´ë¦¬ì‹œ/ì¤‘ë¦½)\n- \"ì˜¤ëŠ˜ ê°€ì¥ ì£¼ëª©í•  ê²ƒ\" í•œ ì¤„ ìš”ì•½\n\n---\n**í˜•ì‹ ì§€ì¹¨**:\n- ì „ì²´ ë¶„ëŸ‰: ì´ë©”ì¼ë¡œ ì½ê¸° ì¢‹ì€ 2500-3500ì\n- ì–¸ì–´: í•œêµ­ì–´ (í‹°ì»¤/ê³ ìœ ëª…ì‚¬ëŠ” ì˜ë¬¸)\n- í†¤: ì „ë¬¸ì ì´ì§€ë§Œ ì½ê¸° ì‰½ê²Œ, ì‹¤ì „ íˆ¬ìì— ë„ì›€ë˜ë„ë¡\n- ì´ëª¨ì§€ ì ê·¹ í™œìš©í•˜ì—¬ ê°€ë…ì„± í–¥ìƒ\n- HTML í˜•ì‹ìœ¼ë¡œ ì¶œë ¥ (ì´ë©”ì¼ í˜¸í™˜)"
            }
          ]
        },
        "options": {
          "maxTokens": 8192
        }
      },
      "type": "@n8n/n8n-nodes-langchain.anthropic",
      "typeVersion": 1,
      "position": [
        5008,
        352
      ],
      "id": "62e88a6d-8807-4ba9-b4d3-7568c3660f5b",
      "name": "Claude Editor",
      "credentials": {
        "anthropicApi": {
          "id": "schYLHRdB3NlKTjS",
          "name": "Anthropic account"
        }
      }
    },
    {
      "parameters": {
        "sendTo": "dltmdan92@gmail.com, Shinjh714@naver.com, mezizon92@naver.com, patriot4397@gmail.com",
        "subject": "=[DailyStockDigest] {{ $now.format('yyyy-MM-dd') }} ì˜¤ëŠ˜ì˜ ì‹œì¥ ë¸Œë¦¬í•‘",
        "message": "={{ $json.content[0].text.replace(/```html/gi, '').replace(/```/g, '').trim() }}",
        "options": {}
      },
      "type": "n8n-nodes-base.gmail",
      "typeVersion": 2.2,
      "position": [
        5312,
        352
      ],
      "id": "374ef854-4f93-4e63-b5f1-5bca50c8af6c",
      "name": "Send DailyStockDigest",
      "webhookId": "4a667a16-5abd-44c0-a6a3-adc1ec79df7e",
      "credentials": {
        "gmailOAuth2": {
          "id": "efOQQ63RauLKsVjO",
          "name": "Gmail account"
        }
      }
    },
    {
      "parameters": {
        "sendTo": "YOUR_EMAIL@gmail.com",
        "subject": "=[DailyStockDigest] âš ï¸ í¬ë¡¤ë§ ì‹¤íŒ¨ ì•Œë¦¼",
        "message": "=DailyStockDigest í¬ë¡¤ë§ ì¤‘ ë¬¸ì œê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.\n\nâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\nğŸ“‹ ìƒì„¸ ì •ë³´\nâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\n\nâ€¢ ë°œìƒ ì‹œê°„: {{ $now.format('yyyy-MM-dd HH:mm:ss') }}\nâ€¢ MarketWatch: {{ $('Combine Data').item.json.marketwatchCount }}ê°œ\nâ€¢ WSJ: {{ $('Combine Data').item.json.wsjCount }}ê°œ\nâ€¢ Investing.com: {{ $('Combine Data').item.json.investingCount }}ê°œ\nâ€¢ CNBC: {{ $('Combine Data').item.json.cnbcCount }}ê°œ\nâ€¢ Yahoo Finance: {{ $('Combine Data').item.json.yahooCount }}ê°œ\nâ€¢ Nasdaq: {{ $('Combine Data').item.json.nasdaqCount }}ê°œ\nâ€¢ ì˜¤ë¥˜: {{ $('Combine Data').item.json.errorMsg || 'ë°ì´í„° ì—†ìŒ' }}\n\nâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\n\nn8n ì›Œí¬í”Œë¡œë¥¼ í™•ì¸í•´ ì£¼ì„¸ìš”.",
        "options": {}
      },
      "type": "n8n-nodes-base.gmail",
      "typeVersion": 2.2,
      "position": [
        5008,
        592
      ],
      "id": "979167c2-0fd4-4095-9292-82871a6ac14b",
      "name": "Error Alert",
      "webhookId": "8a24f48f-1f1d-43d2-b906-8fe5a4d4adfb",
      "credentials": {
        "gmailOAuth2": {
          "id": "efOQQ63RauLKsVjO",
          "name": "Gmail account"
        }
      }
    }
  ],
  "pinData": {},
  "connections": {
    "Daily 7:40AM": {
      "main": [
        [
          {
            "node": "RSS MarketWatch",
            "type": "main",
            "index": 0
          },
          {
            "node": "RSS WSJ",
            "type": "main",
            "index": 0
          },
          {
            "node": "RSS Investing.com",
            "type": "main",
            "index": 0
          },
          {
            "node": "RSS CNBC",
            "type": "main",
            "index": 0
          },
          {
            "node": "RSS Yahoo Finance",
            "type": "main",
            "index": 0
          },
          {
            "node": "RSS Nasdaq",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "RSS MarketWatch": {
      "main": [
        [
          {
            "node": "Merge All",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "RSS WSJ": {
      "main": [
        [
          {
            "node": "Merge All",
            "type": "main",
            "index": 1
          }
        ]
      ]
    },
    "RSS Investing.com": {
      "main": [
        [
          {
            "node": "Merge All",
            "type": "main",
            "index": 2
          }
        ]
      ]
    },
    "RSS CNBC": {
      "main": [
        [
          {
            "node": "Merge All",
            "type": "main",
            "index": 3
          }
        ]
      ]
    },
    "RSS Yahoo Finance": {
      "main": [
        [
          {
            "node": "Merge All",
            "type": "main",
            "index": 4
          }
        ]
      ]
    },
    "RSS Nasdaq": {
      "main": [
        [
          {
            "node": "Merge All",
            "type": "main",
            "index": 5
          }
        ]
      ]
    },
    "Merge All": {
      "main": [
        [
          {
            "node": "Combine Data",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Combine Data": {
      "main": [
        [
          {
            "node": "Valid Data?",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Valid Data?": {
      "main": [
        [
          {
            "node": "Claude Editor",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Error Alert",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Claude Editor": {
      "main": [
        [
          {
            "node": "Send DailyStockDigest",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  },
  "active": true,
  "settings": {
    "executionOrder": "v1",
    "availableInMCP": false
  },
  "versionId": "6752d572-4a14-47cf-9c63-aa3337084f7f",
  "meta": {
    "templateCredsSetupCompleted": true,
    "instanceId": "cef91389ce3e857d1842e81e9f91181fbdf557d670cbf1073bad4d740793fc57"
  },
  "id": "pQpjM5rS-_sAB8tlVtALo",
  "tags": []
}